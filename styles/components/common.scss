@use "sass:math" as math;

@mixin clamp($posV, $posH, $movement) {
	$translateX: $movement;
	$translateY: $movement;

	@if $posV == bottom {	
		$translateY: -$movement;
	}
	@if $posH == right {
		$translateX: -$movement;
	}
	
	transition-duration: var(--pui-duration-click);
	transform: translate($translateX, $translateY);
}

@mixin hover-corner($slot, $posV, $posH, $size, $color, $clamp-on-focus) {
	$offset: 10px;
	$movement: 3px;
	$border-width: math.div($size, 2);

	position: relative;

	&::#{$slot} {
		transition: transform var(--pui-duration-hover) ease-out, border-color var(--pui-duration-click) linear;

		content: "";
		display: block;
		width: 0;
		height: 0;
		position: absolute;
		#{$posV}: -$offset;
		#{$posH}: -$offset;
		border: transparent $border-width solid;
		border-#{$posV}: $color $border-width solid;
		border-#{$posH}: $color $border-width solid;
	}

	&:hover::#{$slot} {
		$translateX: $movement;
		$translateY: $movement;

		@if $posV == top {
			$translateY: -$movement;
		}
		@if $posH == left {
			$translateX: -$movement;
		}


		transform: translate($translateX, $translateY);
	}	

	&:active::#{$slot} {
		@include clamp($posV, $posH, $movement);
	}

	@if $clamp-on-focus {
		&:focus::#{$slot}, &:focus-within::#{$slot} {
			@include clamp($posV, $posH, $movement);
		}
	}
}

@mixin shadow {
	box-shadow: 0 0 6px 0 #000;
}
